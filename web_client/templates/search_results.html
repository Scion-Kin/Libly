{% extends 'logged.html' %}
{% block title %} Search: {{ keywords }} {% endblock %}
{% block head %}
<link rel="stylesheet" href="../static/styles/search_results.css">
<link rel="icon" href="../static/images/logo-maybe.svg">
<script src="../static/scripts/search_results.js"></script>
{% endblock %}
{% block body %}
{% if error %}
    <section class="error">{{ error }}</section>
{% else %}
<aside>
    <h2>Search results</h2>
    <h3>Filters</h3>
    <nav class="results_nav">
        <button id="all">All</button>
        <button id="authors">Authors</button>
        <button id="books">Books</button>
        <button id="genres">Genres</button>
        <button id="users">Users</button>
    </nav>
</aside>
<section id="results">
    {% if authors %}
        {% for author in authors %}
            <section class="author">
                <section class="description">
                    <p class="title">
                        Author - <span class="naming">{{ author.first_name }} {{ author.last_name }}</span>
                    </p>
                    <button class="go">See books</button>                   
                </section>
            </section>
        {% endfor %}
    {% endif %}

    {% if books %}
        {% for book in books %}
            <section class="book">
                <section class="description">
                    <button class="title">
                        <select style="width: 20px;">
                            <option value="wish">Add to wishlist</option>
                            <option value="borrow">Borrow</option>
                            <option value="read">Read Now</option>
                        </select>
                        Book - <span class="naming">{{ book.title }}</span>
                    </button>
                </section>
            </section>
        {% endfor %}
    {% endif %}

    {% if genres %}
        {% for genre in genres %}
            <section class="genre">
                <section class="description">
                    <p class="title">Genre - <span class="naming">{{ genre.name }}</span></p>
                    <button class="go">Check books</button>
                </section>
            </section>
        {% endfor %}
    {% endif %}

    {% if users %}
        {% for user in users %}
            <section class="user">
                <section class="description">
                    <p class="title">User - <span class="naming">{{ user.first_name }} {{ user.last_name }}</span></p>
                    <button class="go">See favs</button>
                </section>
            </section>
        {% endfor %}
    {% endif %}
</section>
{% endif %}
{% endblock %}
